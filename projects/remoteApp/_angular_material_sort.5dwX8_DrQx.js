import*as t from"@angular/core";import{InjectionToken as C,EventEmitter as y,booleanAttribute as f,Optional as I,SkipSelf as M}from"@angular/core";import*as p from"@angular/cdk/a11y";import{SPACE as x,ENTER as H}from"@angular/cdk/keycodes";import{ReplaySubject as E,Subject as w,merge as T}from"rxjs";import{trigger as l,state as s,style as a,transition as n,animate as c,keyframes as m,query as O,animateChild as P}from"@angular/animations";import{AnimationDurations as R,AnimationCurves as k,MatCommonModule as V}from"@angular/material/core";var N=["mat-sort-header",""],j=["*"];function F(i,g){if(i&1){let e=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",2),t.ɵɵlistener("@arrowPosition.start",function(){t.ɵɵrestoreView(e);let r=t.ɵɵnextContext();return t.ɵɵresetView(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){t.ɵɵrestoreView(e);let r=t.ɵɵnextContext();return t.ɵɵresetView(r._disableViewStateAnimation=!1)}),t.ɵɵelement(1,"div",3),t.ɵɵelementStart(2,"div",4),t.ɵɵelement(3,"div",5)(4,"div",6)(5,"div",7),t.ɵɵelementEnd()()}if(i&2){let e=t.ɵɵnextContext();t.ɵɵproperty("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),t.ɵɵadvance(2),t.ɵɵproperty("@indicator",e._getArrowDirectionState()),t.ɵɵadvance(),t.ɵɵproperty("@leftPointer",e._getArrowDirectionState()),t.ɵɵadvance(),t.ɵɵproperty("@rightPointer",e._getArrowDirectionState())}}var D=new C("MAT_SORT_DEFAULT_OPTIONS"),Y=(()=>{class i{get direction(){return this._direction}set direction(e){this._direction=e}constructor(e){this._defaultOptions=e,this._initializedStream=new E(1),this.sortables=new Map,this._stateChanges=new w,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new y,this.initialized=this._initializedStream}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let o=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=B(e.start||this.start,o),d=r.indexOf(this.direction)+1;return d>=r.length&&(d=0),r[d]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.ɵfac=function(o){return new(o||i)(t.ɵɵdirectiveInject(D,8))}}static{this.ɵdir=t.ɵɵdefineDirective({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",f],disabled:[2,"matSortDisabled","disabled",f]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[t.ɵɵInputTransformsFeature,t.ɵɵNgOnChangesFeature]})}}return i})();function B(i,g){let e=["asc","desc"];return i=="desc"&&e.reverse(),g||e.push(""),e}var h=R.ENTERING+" "+k.STANDARD_CURVE,_={indicator:l("indicator",[s("active-asc, asc",a({transform:"translateY(0px)"})),s("active-desc, desc",a({transform:"translateY(10px)"})),n("active-asc <=> active-desc",c(h))]),leftPointer:l("leftPointer",[s("active-asc, asc",a({transform:"rotate(-45deg)"})),s("active-desc, desc",a({transform:"rotate(45deg)"})),n("active-asc <=> active-desc",c(h))]),rightPointer:l("rightPointer",[s("active-asc, asc",a({transform:"rotate(45deg)"})),s("active-desc, desc",a({transform:"rotate(-45deg)"})),n("active-asc <=> active-desc",c(h))]),arrowOpacity:l("arrowOpacity",[s("desc-to-active, asc-to-active, active",a({opacity:1})),s("desc-to-hint, asc-to-hint, hint",a({opacity:.54})),s("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",a({opacity:0})),n("* => asc, * => desc, * => active, * => hint, * => void",c("0ms")),n("* <=> *",c(h))]),arrowPosition:l("arrowPosition",[n("* => desc-to-hint, * => desc-to-active",c(h,m([a({transform:"translateY(-25%)"}),a({transform:"translateY(0)"})]))),n("* => hint-to-desc, * => active-to-desc",c(h,m([a({transform:"translateY(0)"}),a({transform:"translateY(25%)"})]))),n("* => asc-to-hint, * => asc-to-active",c(h,m([a({transform:"translateY(25%)"}),a({transform:"translateY(0)"})]))),n("* => hint-to-asc, * => active-to-asc",c(h,m([a({transform:"translateY(0)"}),a({transform:"translateY(-25%)"})]))),s("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",a({transform:"translateY(0)"})),s("hint-to-desc, active-to-desc, desc",a({transform:"translateY(-25%)"})),s("hint-to-asc, active-to-asc, asc",a({transform:"translateY(25%)"}))]),allowChildren:l("allowChildren",[n("* <=> *",[O("@*",P(),{optional:!0})])])},u=(()=>{class i{constructor(){this.changes=new w}static{this.ɵfac=function(o){return new(o||i)}}static{this.ɵprov=t.ɵɵdefineInjectable({token:i,factory:i.ɵfac,providedIn:"root"})}}return i})();function z(i){return i||new u}var L={provide:u,deps:[[new I,new M,u]],useFactory:z},ot=(()=>{class i{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}constructor(e,o,r,d,S,b,A,v){this._intl=e,this._changeDetectorRef=o,this._sort=r,this._columnDef=d,this._focusMonitor=S,this._elementRef=b,this._ariaDescriber=A,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",v?.arrowPosition&&(this.arrowPosition=v?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let o=!!e;o!==this._showIndicatorHint&&(this._setIndicatorHintVisible(o),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(e.keyCode===x||e.keyCode===H)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=T(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.ɵfac=function(o){return new(o||i)(t.ɵɵdirectiveInject(u),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(Y,8),t.ɵɵdirectiveInject("MAT_SORT_HEADER_COLUMN_DEF",8),t.ɵɵdirectiveInject(p.FocusMonitor),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(p.AriaDescriber,8),t.ɵɵdirectiveInject(D,8))}}static{this.ɵcmp=t.ɵɵdefineComponent({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(o,r){o&1&&t.ɵɵlistener("click",function(){return r._handleClick()})("keydown",function(S){return r._handleKeydown(S)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),o&2&&(t.ɵɵattribute("aria-sort",r._getAriaSortAttribute()),t.ɵɵclassProp("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",f],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",f]},exportAs:["matSortHeader"],standalone:!0,features:[t.ɵɵInputTransformsFeature,t.ɵɵStandaloneFeature],attrs:N,ngContentSelectors:j,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(o,r){o&1&&(t.ɵɵprojectionDef(),t.ɵɵelementStart(0,"div",0)(1,"div",1),t.ɵɵprojection(2),t.ɵɵelementEnd(),t.ɵɵtemplate(3,F,6,6,"div",2),t.ɵɵelementEnd()),o&2&&(t.ɵɵclassProp("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before",r.arrowPosition==="before"),t.ɵɵattribute("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),t.ɵɵadvance(3),t.ɵɵconditional(r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[_.indicator,_.leftPointer,_.rightPointer,_.arrowOpacity,_.arrowPosition,_.allowChildren]},changeDetection:0})}}return i})(),at=(()=>{class i{static{this.ɵfac=function(o){return new(o||i)}}static{this.ɵmod=t.ɵɵdefineNgModule({type:i})}static{this.ɵinj=t.ɵɵdefineInjector({providers:[L],imports:[V]})}}return i})();export{D as MAT_SORT_DEFAULT_OPTIONS,L as MAT_SORT_HEADER_INTL_PROVIDER,z as MAT_SORT_HEADER_INTL_PROVIDER_FACTORY,Y as MatSort,ot as MatSortHeader,u as MatSortHeaderIntl,at as MatSortModule,_ as matSortAnimations};